<!-- BEGIN: Subheader -->
<div class="m-subheader" appunwraptag="" >
	<div class="d-flex align-items-center">
		<div class="mr-auto">
			<h3 class="m-subheader__title m-subheader__title--separator">
				My Worklist
			</h3>
			<ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
				<li class="m-nav__item m-nav__item--home">
					<a href="#" class="m-nav__link m-nav__link--icon">
						<i class="m-nav__link-icon la la-home"></i>
					</a>
				</li>
				<li class="m-nav__separator">
					-
				</li>
				<li class="m-nav__item">
					<a href="" class="m-nav__link">
						<span class="m-nav__link-text">
							My Worklist
						</span>
					</a>
				</li>
			</ul>
		</div>
	 
	</div>
</div>
<!-- END: Subheader -->
<div class="m-content" id="m_form_1">
	<div class="row">
		<div class="col-xl-12">
			<!--begin:: Widgets/Best Sellers-->
			<div class="m-portlet m-portlet--full-height">
				<div class="m-portlet__head">
					<div class="m-portlet__head-caption">
						<div class="m-portlet__head-title">
							<h3 class="m-portlet__head-text">
								My Worklist
							</h3>
						</div>
					</div>
					<div class="m-portlet__head-tools">
						<ul class="nav nav-pills nav-pills--brand m-nav-pills--align-right m-nav-pills--btn-pill m-nav-ills--btn-sm" role="tablist">
							<li class="nav-item m-tabs__item" [ngSwitch]="showSearch">
								<a *ngSwitchCase="true" class="nav-link m-tabs__link search" (click)="toggleSearch()" data-toggle="toggle" href="#" >
									<i class="la la-search"></i>Search
								</a>
								<a *ngSwitchCase="false" class="nav-link m-tabs__link" (click)="toggleSearch()" data-toggle="toggle" href="#" >
									<i class="la la-search"></i>Search
								</a>
							</li>
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link active" (click)="filter('all')" data-toggle="tab" href="#m_widget5_tab1_content" role="tab">
									ALL
								</a>
							</li>
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link" (click)="filter('pr')" data-toggle="tab" href="#m_widget5_tab1_content" role="tab">
									PR
								</a>
							</li>
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link" (click)="filter('po')" data-toggle="tab" href="#m_widget5_tab1_content" role="tab">
									PO
								</a>
							</li>
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link" (click)="filter('pa')" data-toggle="tab" href="#m_widget5_tab1_content" role="tab">
									PA
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="m-portlet__body--search "  *ngIf="showSearch">
					<!--begin: Search Form -->
					<div class="form-group m-form__group row">
						<label class="col-lg-2 col-sm-4 col-form-label">
							Doc No. / Subject:
						</label>
						<div class="col-lg-4 col-sm-8" >
							<input type="text" maxlength="20" class="form-control m-input" [(ngModel)]="m_text_search" (ngModelChange)="setFilteredItems()" name="m_text_search" id="m_text_search">
						</div>
						<label class="col-lg-2 col-sm-4 col-form-label">
							Doc Type:
						</label>
						<div class="col-lg-4 col-sm-8 ">
							<select class="form-control m-input" [(ngModel)]="m_list_doctype" (change)="setFilteredItems()" name="m_list_doctype" id="m_list_doctype">
								<option value="">
									All
								</option>
								<ng-container *ngFor="let row of doctypeList; let index = index">
									<option value="{{row.doc_type_code}}">
										{{row.doc_type_desc}}
									</option>
								</ng-container>
							</select>
						</div>
					</div>
					<div class="form-group m-form__group row">
						<label class="col-lg-2 col-sm-4 col-form-label">
							Company:
						</label>
						<div class="col-lg-4 col-sm-8">
							<select class="form-control m-input" [(ngModel)]="m_list_company" (change)="setFilteredItems()" name="m_list_company" id="m_list_company">
								<option value="">
									All
								</option>
								<ng-container *ngFor="let row of companyList; let index = index">
									<option value="{{row.comp_code}}">
										{{row.comp_name}}
									</option>
								</ng-container>
							</select>
						</div>
						<label class="col-lg-2 col-sm-4 col-form-label">
							Plant:
						</label>
						<div class="col-lg-4 col-sm-8">
							<select class="form-control m-input" [(ngModel)]="m_list_plant" (change)="setFilteredItems()" name="m_list_plant" id="m_list_plant">
								<option value="">
									All
								</option>
								<ng-container *ngFor="let row of plantList; let index = index">
									<option value="{{row.plant_code}}">
										{{row.plant_name}}
									</option>
								</ng-container>
							</select>
						</div>
					</div>
				</div>
				<div class="m-portlet__body">
					<!--begin::Content-->
					<div class="tab-content">
						<div class="tab-pane active" id="m_widget5_tab1_content" aria-expanded="true">
							<!--begin::m-widget5-->
							<div class="m-widget5">
								<ng-container *ngFor="let row of myworklists; let index = index" [ngSwitch]="row.name">
									<div class="m-widget5__item" *ngIf="(row.name=='PR' && showPR) || (row.name=='PO' && showPO) || (row.name=='PA' && showPA) " (click)="navigate(row.name,row.doc_id)" onmouseover="this.style.cursor='pointer'; ">
										<div class="m-widget5__pic" >
											<img *ngSwitchCase="'PR'" class="m-widget7__img" src="./assets/app/media/img/logos/pr.png" alt="">
											<img *ngSwitchCase="'PO'" class="m-widget7__img" src="./assets/app/media/img/logos/po.png" alt="">
											<img *ngSwitchCase="'PA'" class="m-widget7__img" src="./assets/app/media/img/logos/pa.png" alt="">
											<img *ngSwitchDefault class="m-widget7__img" src="./assets/app/media/img/logos/pr.png" alt="">
										</div>
										<div class="m-widget5__content">
											<h4 class="m-widget5__title">
												<a href="#" >{{row.name}}{{row.doc_no}}</a>
												<span class="m-widget5__info-date m--font-info">
													{{row.doc_date | date :'dd/MM/yyyy'}}
												</span>
											</h4>
											<div class="m-widget5__info">
												<span class="m-widget5__author">
													{{row.comp_code}}-{{row.comp_name}}
												</span>
											</div>
											<div class="m-widget5__info">
												<span class="m-widget5__author">
													{{row.plant_code}}-{{row.plant_name}}
												</span>
											</div>
											<span class="m-widget5__desc">
												Subject: {{row.subject}}
											</span>	
										</div>
										<div class="m-widget5__stats1">
											<span class="m-widget5__number">
												{{row.grand_total | number:'1.2'}}
											</span>
											<br>
											<span class="m-widget5__sales">
												{{row.currency}}
											</span>
										</div>
										<div class="m-widget5__stats2">
											<span class="m-widget5__number" >
												<span class={{docStatus[row.c_doc_status].displayclass}}>{{docStatus[row.c_doc_status].name}}</span>
											</span>
											<br>
											<span class="m-widget5__votes">
											</span>
										</div>
									</div>
								</ng-container>
							</div>
							<!--end::m-widget5-->
						</div>			
					</div>
					<!--end::Content-->
				</div>
			</div>
			<!--end:: Widgets/Best Sellers-->
		</div>
	</div>
</div>
